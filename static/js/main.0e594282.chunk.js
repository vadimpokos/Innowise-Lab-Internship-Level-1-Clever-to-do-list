(this.webpackJsonpclevertodo=this.webpackJsonpclevertodo||[]).push([[0],{135:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},163:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(32),c=n.n(r),o=(n(151),n(152),n(153),n(73)),s=n(21),i=n(25),u="/app",d="/auth",l="/",j=n(34),b=n(41),p=n.n(b),O=n(39),f=n(64),h=n(57),m=n(116);n(157);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/Innowise-Lab-Internship-Level-1-Clever-to-do-list",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APIKEY:"AIzaSyCyTaLRh1bTeyvWQAAYePY17_7EdZEL6ss",REACT_APP_APP_ID:"1:995249906170:web:859c37eb02a8c17edbc443",REACT_APP_AUTHDOMAIN:"clever-to-do.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"995249906170",REACT_APP_PROJECTID:"clever-to-do",REACT_APP_STORAGE_BUCKET:"clever-to-do.appspot.com"}));m.a.initializeApp({apiKey:"AIzaSyCyTaLRh1bTeyvWQAAYePY17_7EdZEL6ss",authDomain:"clever-to-do.firebaseapp.com",projectId:"clever-to-do",storageBucket:"clever-to-do.appspot.com",messagingSenderId:"995249906170",appId:"1:995249906170:web:859c37eb02a8c17edbc443"});var x=m.a.firestore(),g="DATA/GET_TODOS",v="DATA/ADD_TODO",y="DATA/DELETE_TODO",w="DATA/CLEAR_TODOS",D="DATA/UPDATE_TODOS",C="USER/LOGIN",I="USER/LOGOUT",_="USER/SIGN_UP",S="USER/CONFIRM_ERROR",E="APP/FOCUS",T="DATE/CHANGE_DATE",A=n(109),P=n(141),k=function(e,t,n){P.a[e]({message:t,description:n,placement:"bottomLeft"})};function N(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x.collection("todos").where("uid","==",e),r=[],t.prev=2,t.next=5,a.get().then((function(e){e.forEach((function(e){r=[].concat(Object(f.a)(r),[Object(O.a)(Object(O.a)({},e.data()),{},{firestoreId:e.id})])}))})).then((function(){n({type:g,payload:r})})).catch((function(e){throw e}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),k("error","Error loading data",t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()}function R(e,t,n,a){return function(){var r=Object(h.a)(p.a.mark((function r(c){var o,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=x.collection("todos"),s={title:t,description:n,id:e.id,uid:e.uid,firestoreId:e.firestoreId,status:a,date:e.date},r.prev=2,r.next=5,o.doc(e.firestoreId).update({title:t,description:n,status:a}).then((function(){c({type:D,payload:s})})).catch((function(e){throw e}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),k("error","Error updating document",r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})));return function(e){return r.apply(this,arguments)}}()}function U(e){return{type:E,payload:e}}n(163);var M=n(142),F=n(242),L=n(239),G=n(241),J=n(245),V=n(8),W=function(e){var t,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),u=Object(j.a)(s,2),d=u[0],l=u[1],b=Object(i.b)(),O=Object(i.c)((function(e){return e.app}));return Object(V.jsxs)(L.a,{children:[(t=e.todo.status,"inprogress"===t?Object(V.jsxs)("div",{className:"todo_status",children:[Object(V.jsx)(M.a,{className:"button_done",type:"default",shape:"round",icon:Object(V.jsx)(J.a,{}),onClick:function(){return b(R(e.todo,e.todo.title,e.todo.description,"done"))},children:"Complete"}),Object(V.jsx)(F.a,{status:"default",text:"Active"})]}):"done"===t?Object(V.jsx)("div",{className:"todo_status",children:Object(V.jsx)(F.a,{status:"success",text:"Completed"})}):null),Object(V.jsx)(L.a.Meta,{title:e.todo.title,description:e.todo.description}),O===e.todo.id?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(G.a,{onChange:function(e){return o(e.target.value)},value:c}),Object(V.jsx)(G.a,{onChange:function(e){return l(e.target.value)},value:d}),Object(V.jsx)(M.a,{onClick:function(){c||d?(b(R(e.todo,c||e.todo.title,d||e.todo.description,e.todo.status)),b(U("")),o(""),l("")):k("warning","Both fields is empty")},children:"Update"}),Object(V.jsx)(M.a,{onClick:function(){return b(U(""))},children:"Hide"}),Object(V.jsx)(M.a,{type:"primary",danger:!0,onClick:function(){var t,n;b((t=e.todo.firestoreId,n=e.todo.id,function(){var e=Object(h.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.collection("todos"),e.prev=1,e.next=4,r.doc(t).delete().then((function(){k("success","Task deleted!")})).then((function(){a({type:y,payload:n})})).catch((function(e){throw e}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),k("error","Error removing task!",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Delete"})]}):Object(V.jsx)(M.a,{onClick:function(){return b(U(e.todo.id))},children:"More"})]})},H=(n(232),n(244)),K=(n(233),function(e){var t=Object(i.c)((function(e){return e.todos.todos})),n=t.filter((function(t){return new Date(1e3*t.date.seconds).getDate()===e.day.getDate()&&new Date(1e3*t.date.seconds).getMonth()===e.day.getMonth()&&"done"===t.status})),a=t.filter((function(t){return new Date(1e3*t.date.seconds).getDate()===e.day.getDate()&&new Date(1e3*t.date.seconds).getMonth()===e.day.getMonth()&&"inprogress"===t.status}));return n.length||a.length?Object(V.jsxs)("div",{className:"badges-wrapper",children:[Object(V.jsx)(F.a,{status:"success",text:n.length}),Object(V.jsx)(F.a,{status:"default",text:a.length})]}):null}),B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q=function(e){var t=Object(i.b)();return Object(V.jsxs)(L.a,{className:"calendar-item",onClick:function(){return t((n=e.day,{type:T,payload:n}));var n},children:[Object(V.jsx)(L.a.Meta,{title:e.day.getDate(),description:Y.find((function(t,n){return n===e.day.getMonth()}))}),Object(V.jsx)("div",{children:B.find((function(t,n){return n===e.day.getDay()}))}),Object(V.jsx)(K,{day:e.day}),e.day.getDate()===e.today.getDate()&&e.day.getMonth()===e.today.getMonth()?Object(V.jsx)(H.a,{color:"purple",children:"Today"}):null]})},X=function(){var e=Object(a.useState)(new Date),t=Object(j.a)(e,1)[0],n=Object(a.useState)(new Date),r=Object(j.a)(n,1)[0];r.setMonth(t.getMonth()+1);var c=function(){var e=[],n=new Date(t);do{e.push(new Date(n)),n.setDate(n.getDate()+1)}while(n.getMonth()!==r.getMonth()||n.getDate()<=r.getDate());return e}();return Object(V.jsx)("div",{className:"calendar_wrapper",children:c.map((function(e,n){return Object(V.jsx)(q,{day:e,today:t},n)}))})},z=(n(234),n(240)),Q=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],u=o[1],d=Object(i.c)((function(e){return e.userInfo.userInfo.uid})),l=Object(i.c)((function(e){return e.date})),b=Object(i.b)();return Object(V.jsx)("div",{className:"form-wrapper",children:Object(V.jsx)("div",{className:"form-container",children:Object(V.jsxs)(z.a,{children:[Object(V.jsx)("h1",{children:"Add To Do"}),Object(V.jsx)(z.a.Item,{label:"Title",children:Object(V.jsx)(G.a,{onChange:function(e){return r(e.target.value)},value:n})}),Object(V.jsx)(z.a.Item,{label:"Description",children:Object(V.jsx)(G.a.TextArea,{onChange:function(e){return u(e.target.value)},value:s})}),Object(V.jsx)(M.a,{onClick:function(){n&&s?(b(function(e,t,n,a){return function(){var r=Object(h.a)(p.a.mark((function r(c){var o,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=x.collection("todos"),s={title:e,id:(new Date).getTime(),description:t,uid:n,status:"inprogress",date:a},r.prev=2,r.next=5,o.add(s).then((function(){c({type:v,payload:s})})).catch((function(e){throw e}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),k("error","Error adding document",r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})));return function(e){return r.apply(this,arguments)}}()}(n,s,d,l.selectedDate)),b(N(d)),r(""),u("")):k("warning","Missing required field")},children:"Add new"})]})})})},Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.todos.todos})),n=Object(a.useState)(!0),r=Object(j.a)(n,2),c=r[0],o=r[1],s=Object(i.c)((function(e){return e.userInfo.userInfo.uid})),u=Object(i.c)((function(e){return e.date}));return Object(a.useEffect)((function(){e(N(s))}),[]),Object(a.useEffect)((function(){o(!1)}),[t]),c?null:Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X,{}),Object(V.jsxs)("h1",{children:["Tasks for ",u.selectedDate.toDateString()]}),t.map((function(e){return new Date(1e3*e.date.seconds).getDate()===u.selectedDate.getDate()&&new Date(1e3*e.date.seconds).getMonth()===u.selectedDate.getMonth()?Object(V.jsx)(W,{todo:e},e.id):null})),Object(V.jsx)(Q,{})]})},$=function(){var e=Object(i.b)();return Object(V.jsx)(M.a,{onClick:function(){e(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.auth().signOut().then((function(){t({type:I,payload:{}})})).catch((function(e){throw e}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),k("error","LogOut error",e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),e({type:w,payload:[]})},children:"Log Out"})},ee=function(){var e=Object(s.g)().path;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)($,{}),Object(V.jsx)(s.b,{exact:!0,path:e,component:Z})]})},te=n(243),ne=(n(135),{name:{basic:"basic",username:"username",password:"password",confirm_password:"confirm_password",remember:"remember"},label:{Username:"Username",Password:"Password",Confirm:"Confirm Password"},labelCol:{Form:{span:8}},wrapperCol:{Form:{span:16},Form_Item:{offset:8,span:16}},initialValues:{remember:!0},rules:{Username:[{required:!0,message:"Please input your username!"}],Password:[{required:!0,message:"Please input your password!"}],Confirm:[{required:!0,message:"Please confirm your password!"}]},valuePropName:{checked:"checked"},type:{primary:"primary"},htmlType:{submit:"submit"}}),ae=function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),d=Object(j.a)(u,2),l=d[0],b=d[1],O=Object(s.g)();return Object(V.jsxs)("div",{className:"wrapper",children:[Object(V.jsx)("h1",{children:"Sign In page"}),Object(V.jsxs)(z.a,{name:ne.name.basic,labelCol:ne.labelCol.Form,wrapperCol:ne.wrapperCol.Form,initialValues:ne.initialValues,children:[Object(V.jsx)(z.a.Item,{label:ne.label.Username,name:ne.name.username,rules:ne.rules.Username,children:Object(V.jsx)(G.a,{onChange:function(e){return c(e.target.value)}})}),Object(V.jsx)(z.a.Item,{label:ne.label.Password,name:ne.name.password,rules:ne.rules.Password,children:Object(V.jsx)(G.a.Password,{onChange:function(e){return b(e.target.value)}})}),Object(V.jsx)(z.a.Item,{name:ne.name.remember,valuePropName:ne.valuePropName.checked,wrapperCol:ne.wrapperCol.Form_Item,children:Object(V.jsx)(te.a,{children:"Remember me"})}),Object(V.jsx)(z.a.Item,{wrapperCol:ne.wrapperCol.Form_Item,children:Object(V.jsx)(M.a,{type:ne.type.primary,htmlType:ne.htmlType.submit,onClick:function(){e(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(a){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a({type:C,payload:t})})).catch((function(e){k("error","Login error",e.message)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,l))},children:"Submit"})})]}),Object(V.jsxs)("div",{children:["Haven`t account yet?",Object(V.jsx)(M.a,{children:Object(V.jsx)(o.b,{to:"".concat(O.path,"/signup"),children:"Sign Up"})})]})]})},re=function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),u=Object(j.a)(s,2),d=u[0],l=u[1],b=Object(a.useState)(""),O=Object(j.a)(b,2),f=O[0],m=O[1];return Object(V.jsxs)("div",{className:"wrapper",children:[Object(V.jsx)("h1",{children:"Sign Up page"}),Object(V.jsxs)(z.a,{name:ne.name.basic,labelCol:ne.labelCol.Form,wrapperCol:ne.wrapperCol.Form,initialValues:ne.initialValues,children:[Object(V.jsx)(z.a.Item,{label:ne.label.Username,name:ne.name.username,rules:ne.rules.Username,children:Object(V.jsx)(G.a,{onChange:function(e){return c(e.target.value)}})}),Object(V.jsx)(z.a.Item,{label:ne.label.Password,name:ne.name.password,rules:ne.rules.Password,children:Object(V.jsx)(G.a.Password,{onChange:function(e){return l(e.target.value)}})}),Object(V.jsx)(z.a.Item,{label:ne.label.Confirm,name:ne.name.confirm_password,rules:ne.rules.Confirm,children:Object(V.jsx)(G.a.Password,{onChange:function(e){return m(e.target.value)}})}),Object(V.jsx)(z.a.Item,{name:ne.name.remember,valuePropName:ne.valuePropName.checked,wrapperCol:ne.wrapperCol.Form_Item,children:Object(V.jsx)(te.a,{children:"Remember me"})}),Object(V.jsx)(z.a.Item,{wrapperCol:ne.wrapperCol.Form_Item,children:Object(V.jsx)(M.a,{type:ne.type.primary,htmlType:ne.htmlType.submit,onClick:function(){e(function(e,t,n){return t===n?function(){var n=Object(h.a)(p.a.mark((function n(a){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){var t=e.user;a({type:_,payload:t})})).catch((function(e){k("error","Sign Up error!",e.message)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():(k("error","Passwords didn`t match!","Please, check that passwords in password and confirm fields are similar"),{type:S})}(r,d,f))},children:"Sign Up"})})]}),Object(V.jsxs)("div",{children:["Already have an account?",Object(V.jsx)(M.a,{children:Object(V.jsx)(o.b,{to:"/auth",children:"Sign In"})})]})]})},ce=function(){var e=Object(s.g)().path;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(s.b,{exact:!0,path:e,component:ae}),Object(V.jsx)(s.b,{path:"".concat(e,"/signup"),component:re})]})},oe=function(){var e=Object(i.c)((function(e){return e.userInfo.userInfo.uid}));return Object(V.jsx)(o.a,{history:history,children:Object(V.jsxs)(s.d,{children:[Object(V.jsx)(s.b,{exact:!0,path:l,children:Object(V.jsx)(s.a,{to:e?u:d})}),Object(V.jsx)(s.b,{path:u,render:function(){return e?Object(V.jsx)(ee,{}):Object(V.jsx)(s.a,{to:d})}}),Object(V.jsx)(s.b,{path:d,render:function(){return e?Object(V.jsx)(s.a,{to:u}):Object(V.jsx)(ce,{})}})]})})};var se=function(){return Object(V.jsx)(oe,{})},ie=n(140),ue=n(79),de={focusedId:""},le={today:new Date,selectedDate:new Date},je={todos:[]},be={userInfo:{}},pe=Object(ue.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case w:return{todos:t.payload};case v:return Object(O.a)({},e);case y:return Object(O.a)(Object(O.a)({},e),{},{todos:[].concat(Object(f.a)(e.todos.slice(0,e.todos.findIndex((function(e){return e.id===t.payload})))),Object(f.a)(e.todos.slice(e.todos.findIndex((function(e){return e.id===t.payload}))+1)))});case D:return Object(O.a)(Object(O.a)({},e),{},{todos:[].concat(Object(f.a)(e.todos.slice(0,e.todos.findIndex((function(e){return e.id===t.payload.id})))),[t.payload],Object(f.a)(e.todos.slice(e.todos.findIndex((function(e){return e.id===t.payload.id}))+1)))});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(O.a)(Object(O.a)({},e),{},{userInfo:t.payload});case I:case _:return{userInfo:t.payload};case S:default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(O.a)(Object(O.a)({},e),{},{selectedDate:t.payload});default:return e}}}),Oe=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),fe=Object(ue.d)(pe,Oe,Object(ue.c)(Object(ue.a)(ie.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));fe.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}({userInfo:fe.getState().userInfo})}));var he=Object(V.jsx)(i.a,{store:fe,children:Object(V.jsx)(se,{})});c.a.render(he,document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.0e594282.chunk.js.map