(this.webpackJsonpclevertodo=this.webpackJsonpclevertodo||[]).push([[0],{135:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},233:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),s=(n(153),n(73)),i=n(22),u=n(21),d="/app",l="/auth",j="/",p=n(143),b=n(41),m=n.n(b),O=n(53),f=n(110),h=n(142),x=function(e){var t=e.type,n=e.message,a=e.description,r=e.placement,c=void 0===r?"bottomLeft":r;h.a[t]({message:n,description:a,placement:c})},g="DATA/GET_TODOS",v="DATA/ADD_TODO",y="DATA/DELETE_TODO",w="DATA/CLEAR_TODOS",I="DATA/UPDATE_TODOS",D="DATA/SET_ISLOADING",C="USER/LOGIN",S="USER/LOGOUT",T="USER/SIGN_UP",E="USER/CONFIRM_ERROR",_="APP/FOCUS",k="DATE/CHANGE_DATE";var A=n(29),N=n(64),P=n(119);n(162);P.a.initializeApp({apiKey:"AIzaSyCyTaLRh1bTeyvWQAAYePY17_7EdZEL6ss",authDomain:"clever-to-do.firebaseapp.com",projectId:"clever-to-do",storageBucket:"clever-to-do.appspot.com",messagingSenderId:"995249906170",appId:"1:995249906170:web:859c37eb02a8c17edbc443"});var U=P.a.firestore();function F(e){return{type:_,payload:e}}function M(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:D,payload:!0}),a=U.collection("todos").where("uid","==",e),r=[],t.prev=3,t.next=6,a.get().then((function(e){e.forEach((function(e){r=[].concat(Object(N.a)(r),[Object(A.a)(Object(A.a)({},e.data()),{},{firestoreId:e.id})])}))})).then((function(){n({type:g,payload:r}),n({type:D,payload:!1})})).catch((function(e){throw e}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),x("error",t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}()}function L(e,t,n,a){return function(){var r=Object(O.a)(m.a.mark((function r(c){var o,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=U.collection("todos"),s={title:t,description:n,id:e.id,uid:e.uid,firestoreId:e.firestoreId,status:a,date:e.date},r.prev=2,r.next=5,o.doc(e.firestoreId).update({title:t,description:n,status:a}).then((function(){c({type:I,payload:s})})).catch((function(e){throw e}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),x({type:"error",message:"Error updating document",description:r.t0.message});case 10:case"end":return r.stop()}}),r,null,[[2,7]])})));return function(e){return r.apply(this,arguments)}}()}var R=n(8),J=function(){var e=Object(u.b)();return Object(R.jsx)(p.a,{onClick:function(){e(function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.auth().signOut().then((function(){t({type:S,payload:{}})})).catch((function(e){throw e}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x({type:"error",message:"Error logout!",description:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),e({type:w,payload:[]})},children:"Log Out"})},V=r.a.memo(J),G=n(40),q=(n(164),n(245)),W=n(250);var X=n(248),B=(n(165),function(e,t){return new Date(1e3*e).getDate()===t.getDate()&&new Date(1e3*e).getMonth()===t.getMonth()}),H=function(e){var t=Object(u.c)((function(e){return e.todos.todos})),n=t.filter((function(t){return B(t.date.seconds,e.day)&&"done"===t.status})),a=t.filter((function(t){return B(t.date.seconds,e.day)&&"inprogress"===t.status}));return n.length||a.length?Object(R.jsxs)("div",{className:"badges-wrapper",children:[Object(R.jsx)(X.a,{status:"success",text:n.length}),Object(R.jsx)(X.a,{status:"default",text:a.length})]}):null},z=r.a.memo(H),Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Q=function(e){var t=Object(u.b)();return Object(R.jsxs)(q.a,{className:"calendar-item",onClick:function(){var n;t((n=e.day,{type:k,payload:n}))},children:[Object(R.jsx)(q.a.Meta,{title:e.day.getDate(),description:K.find((function(t,n){return n===e.day.getMonth()}))}),Object(R.jsx)("div",{children:Y.find((function(t,n){return n===e.day.getDay()}))}),Object(R.jsx)(z,{day:e.day}),e.day.getDate()===e.today.getDate()&&e.day.getMonth()===e.today.getMonth()?Object(R.jsx)(W.a,{color:"purple",children:"Today"}):null]})},Z=r.a.memo(Q),$=function(){var e=Object(a.useState)(new Date),t=Object(G.a)(e,1)[0],n=Object(a.useState)(new Date),r=Object(G.a)(n,1)[0];r.setMonth(t.getMonth()+1);var c=function(){var e=[],n=new Date(t);do{e.push(new Date(n)),n.setDate(n.getDate()+1)}while(n.getMonth()!==r.getMonth()||n.getDate()<=r.getDate());return e}();return Object(R.jsx)("div",{className:"calendar_wrapper",children:c.map((function(e,n){return Object(R.jsx)(Z,{day:e,today:t},n)}))})},ee=r.a.memo($),te=n(244),ne=n(61),ae=(n(233),function(){var e=Object(R.jsx)(ne.a,{className:"loader",spin:!0});return Object(R.jsx)(te.a,{indicator:e})}),re=r.a.memo(ae),ce=(n(239),n(246)),oe=n(247),se=function(){var e=Object(a.useState)(""),t=Object(G.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(G.a)(c,2),s=o[0],i=o[1],d=Object(u.c)((function(e){return e.userInfo.userInfo.uid})),l=Object(u.c)((function(e){return e.date})),j=Object(u.b)();return Object(R.jsx)("div",{className:"form-wrapper",children:Object(R.jsx)("div",{className:"form-container",children:Object(R.jsxs)(ce.a,{children:[Object(R.jsx)("h1",{children:"Add To Do"}),Object(R.jsx)(ce.a.Item,{label:"Title",children:Object(R.jsx)(oe.a,{onChange:function(e){r(e.target.value)},value:n})}),Object(R.jsx)(ce.a.Item,{label:"Description",children:Object(R.jsx)(oe.a.TextArea,{onChange:function(e){i(e.target.value)},value:s})}),Object(R.jsx)(p.a,{onClick:function(){n&&s?(j(function(e,t,n,a){return function(){var r=Object(O.a)(m.a.mark((function r(c){var o,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=U.collection("todos"),s={title:e,id:(new Date).getTime(),description:t,uid:n,status:"inprogress",date:a},r.prev=2,r.next=5,o.add(s).then((function(){c({type:v,payload:s})})).catch((function(e){throw e}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),x({type:"error",message:"Error adding document",description:r.t0.message});case 10:case"end":return r.stop()}}),r,null,[[2,7]])})));return function(e){return r.apply(this,arguments)}}()}(n,s,d,l.selectedDate)),j(M(d)),r(""),i("")):x({type:"warning",message:"Missing required field"})},children:"Add new"})]})})})},ie=r.a.memo(se),ue=(n(240),n(251)),de=function(e){var t=Object(u.b)();return"inprogress"===e.todo.status?Object(R.jsxs)("div",{className:"todo_status",children:[Object(R.jsx)(p.a,{className:"button_done",type:"default",shape:"round",icon:Object(R.jsx)(ue.a,{}),onClick:function(){t(L(e.todo,e.todo.title,e.todo.description,"done"))},children:"Complete"}),Object(R.jsx)(X.a,{status:"default",text:"Active"})]}):"done"===e.todo.status?Object(R.jsx)("div",{className:"todo_status",children:Object(R.jsx)(X.a,{status:"success",text:"Completed"})}):null},le=r.a.memo(de),je=function(e){var t=Object(a.useState)(""),n=Object(G.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),s=Object(G.a)(o,2),i=s[0],d=s[1],l=Object(u.b)(),j=Object(u.c)((function(e){return e.app.focusedId}));return Object(R.jsxs)(q.a,{children:[Object(R.jsx)(le,{todo:e.todo}),Object(R.jsx)(q.a.Meta,{title:e.todo.title,description:e.todo.description}),j===e.todo.id?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(oe.a,{onChange:function(e){c(e.target.value)},value:r}),Object(R.jsx)(oe.a,{onChange:function(e){d(e.target.value)},value:i}),Object(R.jsx)(p.a,{onClick:function(){r||i?(l(L(e.todo,r||e.todo.title,i||e.todo.description,e.todo.status)),l(F("")),c(""),d("")):x({type:"warning",message:"Both fields are empty"})},children:"Update"}),Object(R.jsx)(p.a,{onClick:function(){l(F(""))},children:"Hide"}),Object(R.jsx)(p.a,{type:"primary",danger:!0,onClick:function(){var t,n;l((t=e.todo.firestoreId,n=e.todo.id,function(){var e=Object(O.a)(m.a.mark((function e(a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.collection("todos"),e.prev=1,e.next=4,r.doc(t).delete().then((function(){x({type:"success",message:"Task deleted"})})).then((function(){a({type:y,payload:n})})).catch((function(e){throw e}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),x({type:"error",message:"Error deleting task",description:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Delete"})]}):Object(R.jsx)(p.a,{onClick:function(){l(F(e.todo.id))},children:"More"})]})},pe=function(){var e=Object(u.c)((function(e){return e.todos.todos})),t=Object(u.c)((function(e){return e.date}));return Object(R.jsx)(R.Fragment,{children:e.map((function(e){return B(e.date.seconds,t.selectedDate)?Object(R.jsx)(je,{todo:e},e.id):null}))})},be=r.a.memo(pe),me=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.userInfo.userInfo.uid})),n=Object(u.c)((function(e){return e.date})),r=Object(u.c)((function(e){return e.app.isLoading}));return Object(a.useEffect)((function(){e(M(t))}),[]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ee,{}),Object(R.jsxs)("h1",{children:["Tasks for ",n.selectedDate.toDateString()]}),r?Object(R.jsx)(re,{}):Object(R.jsx)(be,{}),Object(R.jsx)(ie,{})]})},Oe=r.a.memo(me),fe=function(){var e=Object(i.g)().path;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(V,{}),Object(R.jsx)(i.b,{exact:!0,path:e,component:Oe})]})},he=r.a.memo(fe),xe=n(249),ge=(n(135),{name:{basic:"basic",username:"username",password:"password",confirm_password:"confirm_password",remember:"remember"},label:{Username:"Username",Password:"Password",Confirm:"Confirm Password"},labelCol:{Form:{span:8}},wrapperCol:{Form:{span:16},Form_Item:{offset:8,span:16}},initialValues:{remember:!0},rules:{Username:[{required:!0,message:"Please input your username!"}],Password:[{required:!0,message:"Please input your password!"}],Confirm:[{required:!0,message:"Please confirm your password!"}]},valuePropName:{checked:"checked"},type:{primary:"primary"},htmlType:{submit:"submit"}}),ve=function(){var e=Object(u.b)(),t=Object(a.useState)(""),n=Object(G.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),i=Object(G.a)(o,2),d=i[0],l=i[1],j=Object(a.useState)(""),b=Object(G.a)(j,2),h=b[0],g=b[1];return Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)("h1",{children:"Sign Up page"}),Object(R.jsxs)(ce.a,{name:ge.name.basic,labelCol:ge.labelCol.Form,wrapperCol:ge.wrapperCol.Form,initialValues:ge.initialValues,children:[Object(R.jsx)(ce.a.Item,{label:ge.label.Username,name:ge.name.username,rules:ge.rules.Username,children:Object(R.jsx)(oe.a,{onChange:function(e){c(e.target.value)}})}),Object(R.jsx)(ce.a.Item,{label:ge.label.Password,name:ge.name.password,rules:ge.rules.Password,children:Object(R.jsx)(oe.a.Password,{onChange:function(e){l(e.target.value)}})}),Object(R.jsx)(ce.a.Item,{label:ge.label.Confirm,name:ge.name.confirm_password,rules:ge.rules.Confirm,children:Object(R.jsx)(oe.a.Password,{onChange:function(e){g(e.target.value)}})}),Object(R.jsx)(ce.a.Item,{name:ge.name.remember,valuePropName:ge.valuePropName.checked,wrapperCol:ge.wrapperCol.Form_Item,children:Object(R.jsx)(xe.a,{children:"Remember me"})}),Object(R.jsx)(ce.a.Item,{wrapperCol:ge.wrapperCol.Form_Item,children:Object(R.jsx)(p.a,{type:ge.type.primary,htmlType:ge.htmlType.submit,onClick:function(){e(function(e,t,n){return t===n?function(){var n=Object(O.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){var t=e.user;a({type:T,payload:t})})).catch((function(e){x({type:"error",message:"Sign Up Error!",description:e.message})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}():(x({type:"error",message:"Passwords didn`t match!",description:"Please, check that passwords in password and confirm fields are similar"}),{type:E})}(r,d,h))},children:"Sign Up"})})]}),Object(R.jsxs)("div",{children:["Already have an account?",Object(R.jsx)(p.a,{children:Object(R.jsx)(s.b,{to:"/auth",children:"Sign In"})})]})]})},ye=r.a.memo(ve),we=function(){var e=Object(u.b)(),t=Object(a.useState)(""),n=Object(G.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),d=Object(G.a)(o,2),l=d[0],j=d[1],b=Object(i.g)();return Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsx)("h1",{children:"Sign In page"}),Object(R.jsxs)(ce.a,{name:ge.name.basic,labelCol:ge.labelCol.Form,wrapperCol:ge.wrapperCol.Form,initialValues:ge.initialValues,children:[Object(R.jsx)(ce.a.Item,{label:ge.label.Username,name:ge.name.username,rules:ge.rules.Username,children:Object(R.jsx)(oe.a,{onChange:function(e){c(e.target.value)}})}),Object(R.jsx)(ce.a.Item,{label:ge.label.Password,name:ge.name.password,rules:ge.rules.Password,children:Object(R.jsx)(oe.a.Password,{onChange:function(e){j(e.target.value)}})}),Object(R.jsx)(ce.a.Item,{name:ge.name.remember,valuePropName:ge.valuePropName.checked,wrapperCol:ge.wrapperCol.Form_Item,children:Object(R.jsx)(xe.a,{children:"Remember me"})}),Object(R.jsx)(ce.a.Item,{wrapperCol:ge.wrapperCol.Form_Item,children:Object(R.jsx)(p.a,{type:ge.type.primary,htmlType:ge.htmlType.submit,onClick:function(){e(function(e,t){return function(){var n=Object(O.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a({type:C,payload:t})})).catch((function(e){x({type:"error",message:"Error login!",description:e.message})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,l))},children:"Submit"})})]}),Object(R.jsxs)("div",{children:["Haven`t account yet?",Object(R.jsx)(p.a,{children:Object(R.jsx)(s.b,{to:"".concat(b.path,"/signup"),children:"Sign Up"})})]})]})},Ie=r.a.memo(we),De=function(){var e=Object(i.g)().path;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(i.b,{exact:!0,path:e,component:Ie}),Object(R.jsx)(i.b,{path:"".concat(e,"/signup"),component:ye})]})},Ce=r.a.memo(De),Se=function(){var e=Object(u.c)((function(e){return e.userInfo.userInfo.uid}));return Object(R.jsx)(s.a,{history:history,children:Object(R.jsxs)(i.d,{children:[Object(R.jsx)(i.b,{exact:!0,path:j,children:Object(R.jsx)(i.a,{to:e?d:l})}),Object(R.jsx)(i.b,{path:d,render:function(){return e?Object(R.jsx)(he,{}):Object(R.jsx)(i.a,{to:l})}}),Object(R.jsx)(i.b,{path:l,render:function(){return e?Object(R.jsx)(i.a,{to:d}):Object(R.jsx)(Ce,{})}})]})})},Te=r.a.memo(Se);var Ee=function(){return Object(R.jsx)(Te,{})},_e=n(141),ke=n(79),Ae={focusedId:"",isLoading:!1},Ne={today:new Date,selectedDate:new Date},Pe={todos:[]},Ue={userInfo:{}},Fe=Object(ke.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case w:return Object(A.a)(Object(A.a)({},e),{},{todos:t.payload});case v:return Object(A.a)({},e);case y:return Object(A.a)(Object(A.a)({},e),{},{todos:[].concat(Object(N.a)(e.todos.slice(0,e.todos.findIndex((function(e){return e.id===t.payload})))),Object(N.a)(e.todos.slice(e.todos.findIndex((function(e){return e.id===t.payload}))+1)))});case I:return Object(A.a)(Object(A.a)({},e),{},{todos:[].concat(Object(N.a)(e.todos.slice(0,e.todos.findIndex((function(e){return e.id===t.payload.id})))),[t.payload],Object(N.a)(e.todos.slice(e.todos.findIndex((function(e){return e.id===t.payload.id}))+1)))});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(A.a)(Object(A.a)({},e),{},{userInfo:t.payload});case S:case T:return{userInfo:t.payload};case E:default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(A.a)(Object(A.a)({},e),{},{focusedId:t.payload});case D:return Object(A.a)(Object(A.a)({},e),{},{isLoading:t.payload});default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(A.a)(Object(A.a)({},e),{},{selectedDate:t.payload});default:return e}}}),Me=function(){try{var e=localStorage.getItem("state");return null===e?{}:JSON.parse(e)}catch(t){return null}}(),Le=Object(ke.d)(Fe,Me,Object(ke.c)(Object(ke.a)(_e.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Le.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){x("error",n.name,n.message)}}({userInfo:Le.getState().userInfo})}));var Re=Object(R.jsx)(u.a,{store:Le,children:Object(R.jsx)(Ee,{})});o.a.render(Re,document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.22dee223.chunk.js.map